<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>HBD Yuniarüíñ</title>
  <style>
    :root{
      --bg1:#4d1f33; --bg2:#662244; --spark:#803355; --spark2:#993366;
      --text:#f8dfe8; --muted:#d9a8c0;
      --btn:#ff5fa3; --btn2:#ff77b7; --btnText:#fff;
      --cardBg:#803355;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      color:var(--text);
      background:
        radial-gradient(900px 500px at -10% -10%, var(--spark) 0%, transparent 60%),
        radial-gradient(900px 500px at 110% 10%, var(--spark2) 0%, transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      overflow-x:hidden;
    }

    .wrap{min-height:100dvh; display:grid; place-items:center; padding:28px}
    .stage{width:min(940px, 100%); min-height:100dvh; display:grid; place-items:center; padding:16px; position:relative}

    .card{display:none; background:var(--cardBg); padding:32px; box-shadow:0 10px 28px rgba(0,0,0,.35); position:relative; margin:0 auto; border-radius:12px; align-items:center; justify-content:center;}
    .card.active{display:flex; flex-direction:column; gap:20px; animation:fade .35s ease;}

    .card h2, .card .lead{
      margin-top:8px;
      text-align:center;
    }

    /* Keyframes umum */
    @keyframes fade{from{opacity:0;} to{opacity:1;}}
    @keyframes slideUpFade{from{transform:translateY(20px); opacity:0} to{transform:none; opacity:1}}
    @keyframes slideInRight{from{transform:translateX(24px); opacity:0} to{transform:none; opacity:1}}
    @keyframes zoomFade{from{transform:scale(.96); opacity:0} to{transform:scale(1); opacity:1}}
    @keyframes flipUp{from{transform:rotateX(12deg) translateY(10px); opacity:0; transform-origin:bottom} to{transform:none; opacity:1}}
    @keyframes sway{0%,100%{transform:translateX(0);} 50%{transform:translateX(10px);}}
    @keyframes bounce{
      0%,100%{transform:translateY(0);} 
      50%{transform:translateY(-15px);}
    }

    /* Animasi khusus per card (2-5) */
    #card-2.active{animation:slideUpFade .45s ease-out both}
    #card-3.active{animation:slideInRight .45s cubic-bezier(.2,.9,.2,1) both}
    #card-4.active{animation:zoomFade .38s ease-out both}
    #card-5.active{animation:flipUp .5s cubic-bezier(.2,.9,.2,1) both}

    /* Responsive square cards */
    #card-2, #card-3, #card-4, #card-5 {
      width: clamp(280px, 80vw, 600px);
      height: clamp(280px, 70vh, 420px);
      border-radius: 12px;
      will-change: transform, opacity; /* smooth */
    }

    h1,h2{margin:0; text-align:center; color:#ffd6e8}
    .lead{color:var(--muted); text-align:center; max-width:52ch}

    .btn{
      appearance:none; border:none; cursor:pointer; font-weight:800;
      background:linear-gradient(180deg, var(--btn2), var(--btn)); color:var(--btnText);
      padding:14px 24px; border-radius:999px; box-shadow:0 10px 20px rgba(0,0,0,.35);
      transition:transform .15s ease, box-shadow .2s ease;
    }
    .btn:hover{transform:translateY(-2px); box-shadow:0 16px 28px rgba(0,0,0,.45)}

    #card-1{
      background:none; border:none; box-shadow:none; padding:0; min-height:auto;
    }
    .envelope{
      width:clamp(260px,70vw,500px);
      aspect-ratio:4/3;
      position:relative;
      background:#803355;
      box-shadow:0 16px 44px rgba(0,0,0,.42);
      cursor:pointer;
    }
    .envelope .flap-top{
      position:absolute; top:0; left:0; right:0; height:50%;
      background:#993366;
      clip-path:polygon(0 0,100% 0,50% 100%);
      transform-origin:top; transition:transform .8s ease;
    }
    .envelope.open .flap-top{transform:rotateX(180deg)}
    .envelope .flap-bottom{
      position:absolute; bottom:0; left:0; right:0; height:50%;
      background:#a64d79;
      clip-path:polygon(0 100%,50% 0,100% 100%);
    }
    .envelope .flap-left{
      position:absolute; top:0; bottom:0; left:0; width:50%;
      background:#8c2f5c;
      clip-path:polygon(0 0,100% 50%,0 100%);
    }
    .envelope .flap-right{
      position:absolute; top:0; bottom:0; right:0; width:50%;
      background:#8c2f5c;
      clip-path:polygon(100% 0,100% 100%,0 50%);
    }
    .cta-open{
      position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
      padding:12px 20px; background:linear-gradient(135deg,#e06ba0,#c94f87);
      border:none; border-radius:999px; color:#fff; font-weight:bold; box-shadow:0 12px 26px rgba(0,0,0,.45);
    }

    /* Gambar di card 2 */
    #card-2 img{
      position:absolute;
      right:32px;
      bottom:16px;
      width:180px;
      height:auto;
      border-radius:8px;
      max-width:40%;
      animation:sway 2s ease-in-out infinite;
    }

    @media (max-width: 600px){
      #card-2 img{
        width:120px;
        right:12px;
        bottom:12px;
      }
    }

    /* Gambar di card 3 */
    #card-3 img{
      position:absolute;
      left:32px;
      bottom:16px;
      width:180px;
      height:auto;
      border-radius:8px;
      max-width:40%;
      animation:sway 2s ease-in-out infinite;
    }

    @media (max-width: 600px){
      #card-3 img{
        width:120px;
        left:12px;
        bottom:12px;
      }
    }

    /* Gambar di card 4 */
    #card-4 img{
      position:absolute;
      left:32px;
      bottom:16px;
      width:180px;
      height:auto;
      border-radius:8px;
      max-width:40%;
      animation:sway 2s ease-in-out infinite;
    }

    @media (max-width: 600px){
      #card-4 img{
        width:120px;
        left:12px;
        bottom:12px;
      }
    }

    /* Gambar di card 5 */
    #card-5 img{
      position:absolute;
      right:32px;
      bottom:16px;
      width:180px;
      height:auto;
      border-radius:8px;
      max-width:40%;
    }

    @media (max-width: 600px){
      /* Pastikan gambar tidak menutupi tombol di mobile */
      #card-5 img{
        position:static; /* lepaskan dari absolute supaya ikut alur dokumen */
        display:block;
        width:120px;
        height:auto;
        margin:8px auto 0; /* taruh di tengah bawah teks */
      }
      /* Susun tombol vertikal agar lebih lega di layar kecil */
      #card-5 div{
        flex-direction:column;
        align-items:center;
        gap:12px;
        margin-top:20px;
      }
    }

    /* Tombol di tengah card */
    .next-cta, #card-5 div{
      position:static;
      transform:none;
      margin-top:40px; /* ditambah agar lebih jauh dari teks */
      display:flex;
      justify-content:center;
      gap:12px;
    }

    /* CONFETTI */
    .confetti-layer{position:fixed; inset:0; pointer-events:none; overflow:hidden; z-index:9999; font-size:20px; line-height:1}
    .confetti-piece{position:absolute; opacity:0; will-change:transform, opacity}

    @keyframes fall{
      0%{transform:translate3d(var(--x,0), -10vh, 0) rotate(0turn); opacity:0}
      15%{opacity:1}
      100%{transform:translate3d(var(--x,0), 105vh, 0) rotate(3turn); opacity:0}
    }
    @keyframes driftRight{
      0%{transform:translate3d(-5vw, var(--y,0),0) rotate(0turn); opacity:0}
      15%{opacity:1}
      100%{transform:translate3d(110vw, calc(var(--y,0) + 40vh),0) rotate(2.5turn); opacity:0}
    }
    @keyframes driftLeft{
      0%{transform:translate3d(105vw, var(--y,0),0) rotate(0turn); opacity:0}
      15%{opacity:1}
      100%{transform:translate3d(-15vw, calc(var(--y,0) + 40vh),0) rotate(-2.5turn); opacity:0}
    }
  @media (max-height: 520px){#card-2,#card-3,#card-4,#card-5{height:auto; min-height:300px; padding-bottom:72px;} .next-cta,#card-5 div{bottom:12px;}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="stage">
      <section class="card active" id="card-1">
        <div class="envelope" id="envelope">
          <div class="flap-top"></div>
          <div class="flap-left"></div>
          <div class="flap-right"></div>
          <div class="flap-bottom"></div>
          <button class="cta-open" id="btnOpen">Buka Amplop</button>
        </div>
      </section>

      <section class="card" id="card-2">
        <h2>Happy Birthday Yuniar‚ù§Ô∏è</h2>
        <p class="lead">25 bukan hanya angka, tapi cerminan dari segala perjuangan, mimpi, dan doa yang udah kamu jalani.üíï</p>
        <img src="https://i.ibb.co.com/KxS83NkD/birthday.png" alt="birthday image">
        <div class="next-cta"><button class="btn" data-next>Next ‚ûú</button></div>
      </section>

      <section class="card" id="card-3">
        <h2>üå∏ Harapan Manis üå∏</h2>
        <p class="lead">Semoga tahun ini menjadi awal dari banyak keajaiban baru dalam hidupmu‚ú®</p>
        <img src="https://i.ibb.co.com/h33XnT1/wish.png" alt="wish image">
        <div class="next-cta"><button class="btn" data-next>Next ‚ûú</button></div>
      </section>

      <section class="card" id="card-4">
        <h2>üíñ Stay Happy üíñ</h2>
        <p class="lead">Jangan lupa self love, kamu tau yang terbaik untuk dirimu üí´</p>
        <img src="https://i.ibb.co.com/jvSnpVRk/happy.png" alt="happy image">
        <div class="next-cta"><button class="btn" data-next>Next ‚ûú</button></div>
      </section>

      <section class="card" id="card-5">
        <h2>Sudah Siap Rayakan? ü•≥</h2>
        <p class="lead">Dont worry, tidak semua bunga mekarnya bersamaan</p>
        <img id="celebrateImg" src="https://i.ibb.co.com/99fvZyqk/celebrate.png" alt="celebrate image">
        <div>
          <button class="btn success" id="celebrateBtn">Rayakan üéä</button>
          <button class="btn warn" id="repeatBtn">Ulangi ‚Üª</button>
        </div>
      </section>
    </div>
  </div>

  <div class="confetti-layer" id="confetti"></div>

  <script>
    const cards=[...document.querySelectorAll('.card')];
    let current=0;
    function showCard(idx){cards.forEach((c,i)=>c.classList.toggle('active',i===idx));current=idx;}

    document.getElementById('btnOpen').addEventListener('click',()=>{
      document.getElementById('envelope').classList.add('open');
      setTimeout(()=>showCard(1),650);
    });

    document.querySelectorAll('[data-next]').forEach(btn=>btn.addEventListener('click',()=>showCard(Math.min(current+1,cards.length-1))));
    document.getElementById('repeatBtn').addEventListener('click',()=>showCard(1));
    document.getElementById('celebrateBtn').addEventListener('click',()=>{
      runConfetti();
      const img=document.getElementById('celebrateImg');
      img.style.animation='bounce 1s ease-in-out 3';
    });

    const confettiLayer=document.getElementById('confetti');
    function spawnPiece(style){
      const el=document.createElement('span');
      el.className='confetti-piece';
      el.textContent='üò≠';
      el.style.fontSize=(18+Math.random()*10)+'px';
      if(style==='top'){
        el.style.left=Math.random()*100+'vw';
        el.style.setProperty('--x', (Math.random()*20-10)+'px');
        el.style.animation=`fall ${2.8+Math.random()*1.5}s linear forwards`;
      }
      if(style==='left'){
        el.style.top=Math.random()*70+'vh';
        el.style.setProperty('--y', (Math.random()*10-5)+'vh');
        el.style.animation=`driftRight ${2.2+Math.random()*1.6}s ease-out forwards`;
      }
      if(style==='right'){
        el.style.top=Math.random()*70+'vh';
        el.style.setProperty('--y', (Math.random()*10-5)+'vh');
        el.style.animation=`driftLeft ${2.2+Math.random()*1.6}s ease-out forwards`;
      }
      el.addEventListener('animationend',()=>el.remove());
      confettiLayer.appendChild(el);
    }

    function rainTop(duration=2500,rate=6){
      const start=performance.now();
      function frame(now){
        if(now-start<duration){ for(let i=0;i<rate;i++) spawnPiece('top'); requestAnimationFrame(frame); }
      }
      requestAnimationFrame(frame);
    }
    function burstSides(duration=2200,batch=6){
      const start=performance.now();
      function frame(now){
        if(now-start<duration){ for(let i=0;i<batch;i++){ spawnPiece('left'); spawnPiece('right'); } setTimeout(()=>requestAnimationFrame(frame),300); }
      }
      requestAnimationFrame(frame);
    }
    function runConfetti(){ rainTop(); burstSides(); }
  </script>
</body>
</html>

